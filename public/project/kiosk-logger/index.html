    <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Kiosk Logging System &middot; Not So Fungible </title>
    
    <link rel="stylesheet" type="text/css" href="https://jamieduerden.co.uk/css/semantic.min.css" />
    <link rel="stylesheet" type="text/css" href="https://jamieduerden.co.uk/css/uno.min.css" />
    <link rel="stylesheet" type="text/css" href="https://jamieduerden.co.uk/css/lightGallery.css" />
    
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.ico">
    
    <link href="" rel="alternate" type="application/rss+xml" title="Not So Fungible" />
    
    <script src="https://jamieduerden.co.uk/js/jquery.min.js"></script>
    <script src="https://jamieduerden.co.uk/js/main.min.js"></script>
    <script src="https://jamieduerden.co.uk/js/semantic.min.js"></script>
    <script src="https://jamieduerden.co.uk/js/contact.js"></script>
</head>

    <body>
        <div id="scriptHeader">
    <span class="mobile btn-mobile-menu">
            <i class="fa fa-bars btn-mobile-menu__icon"></i>
            <i class="fa fa-times btn-mobile-close__icon hidden"> </i>
    </span>
    <header class="
        
            panel-cover panel-cover--collapsed
        "  style="background-image: url(/images/main/background.jpg)" >
    <div class="panel-main">
        <div class="panel-main__inner panel-inverted">
            <div class="panel-main__content"> 
                <a href="https://jamieduerden.co.uk//" title="link to homepage for Not So Fungible"> <img src="/images/main/logo.jpg" width="80" alt="Not So Fungible logo" class="panel-cover__logo logo" /> </a> 
                <h1 class="panel-cover__title panel-title">
                    <a href="https://jamieduerden.co.uk//"  title="link to homepage for Not So Fungible">Not So Fungible</a>
                </h1>
                <hr class="panel-cover__divider" />
                <p class="panel-cover__description">  Personal website of James Duerden: Experimenter, Developer and Project Manager  </p>
                <hr class="panel-cover__divider panel-cover__divider--secondary" />
                <div class="navigation-wrapper">
                    <nav class="cover-navigation cover-navigation--primary">
                        <ul class="navigation">
                            <li class="navigation__item"><a href="/pages/resume" title="link to my CV " class="blog-button">C.V.</a> </li></br> 
                            <li class="navigation__item"><a href="https://jamieduerden.co.uk/#blog" title="link to Not So Fungible blog" class="blog-button">Blog</a> </li></br>
                            <li class="navigation__item"><a href="/project" title="Project Listing" class="blog-button">Projects</a> </li></br> 
                            <li class="navigation__item"><a href="/pages/contact" title="Contact Me" class="blog-button">Contact Me</a> </li></br> 
                            
                       </ul>
                    </nav> <nav class="cover-navigation navigation--social">
    <ul class="navigation">   
        
        <li class="navigation__item">
            <a href="https://github.com/Xymist" title="Xymist on github"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li>  </br>  
        
        <li class="navigation__item">
            <a href="http://uk.linkedin.com/in/jamesduerden/en" title="Linkedin"> <i class='fa fa-linkedin'></i> <span class="label">Linkedin</span> </a>
        </li>  
        
        <li class="navigation__item">
            <a href="mailto:james@jamieduerden.co.uk" title="Email james@jamieduerden.co.uk"> <i class='fa fa-envelope-o'></i> <span class="label">Email</span> </a>
        </li>  </ul>
</nav>
 </div>
            </div>
        </div>
        <div class="panel-cover--overlay"></div>
    </div>
</header>
</div>
<noscript>
    <style>
        #scriptHeader {display:none;}
        .navigation-wrapper{
            display: block;
            top: 0;
        }
    </style>

    <header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/main/background.jpg)">
        <div class="panel-main">
            <div class="panel-main__inner panel-inverted">
                <div class="panel-main__content"> 
                    <a href="https://jamieduerden.co.uk//" title="link to homepage for Not So Fungible"> <img src="/images/main/logo.jpg" width="80" alt="Not So Fungible logo" class="panel-cover__logo logo" /> </a> 
                    <h1 class="panel-cover__title panel-title">
                        <a href="https://jamieduerden.co.uk//"  title="link to homepage for Not So Fungible">Not So Fungible</a>
                    </h1>
                    <hr class="panel-cover__divider" />
                    <p class="panel-cover__description">  Personal website of James Duerden: Experimenter, Developer and Project Manager  </p>
                    <hr class="panel-cover__divider panel-cover__divider--secondary" />
                    <div class="navigation-wrapper">
                        <nav class="cover-navigation cover-navigation--primary">
                            <ul class="navigation">
                                <li class="navigation__item"><a href="https://jamieduerden.co.uk//#blog" title="link to Not So Fungible blog" class="blog-button">Blog</a> </li></br>
                                <li class="navigation__item"><a href="/pages/resume" title="link to my CV " class="blog-button">CV</a> </li></br> 
                                
                           </ul>
                        </nav> <nav class="cover-navigation navigation--social">
    <ul class="navigation">   
        
        <li class="navigation__item">
            <a href="https://github.com/Xymist" title="Xymist on github"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li>  </br>  
        
        <li class="navigation__item">
            <a href="http://uk.linkedin.com/in/jamesduerden/en" title="Linkedin"> <i class='fa fa-linkedin'></i> <span class="label">Linkedin</span> </a>
        </li>  
        
        <li class="navigation__item">
            <a href="mailto:james@jamieduerden.co.uk" title="Email james@jamieduerden.co.uk"> <i class='fa fa-envelope-o'></i> <span class="label">Email</span> </a>
        </li>  </ul>
</nav>
 </div>
                </div>
            </div>
            <div class="panel-cover--overlay"></div>
        </div>
    </header>
</noscript>

        <div class="content-wrapper">
            <div class="content-wrapper__inner">
                <div class="post">
                    <h1>Kiosk Logging System</h1>
                    <p><a href="https://github.com/Xymist/caw-kiosk-logger"><i class="fa fa-github fa-3x"></i></a></p>

<p>This is a utility for creating a coherent log of kiosk access by public users. This retrieves data from the Firefox history and activity databases, interprets them, and feeds them to a central server.</p>

<p>Written in Ruby (and a tiny bit of Bash scripting), this runs as a service watching the relevant databases, reads, formats and loads the data into a logfile. It then sends this upstream once each day. While doing this, it also sends a heartbeat signal every five minutes, giving early warning of connection failures and inactive kiosks.</p>

<p>There is also a <a href="https://github.com/Xymist/caw-kiosk-logsite">companion site</a> for the data logger, which receives uploads from the various kiosks, parses them into a SQLite database and generates reports for end users on the operation of the terminals. This is being written in Ruby on Rails, which is probably slight overkill for the task at hand but happens to include useful packages like ActiveRecord, which are preferable to rolling my own database connections and other such necessaries.</p>

<p>This takes the raw data from the uploaded log files, loads them into a Postgres database, and manipulates them in a variety of ways to display the necessary information to non-technical end users.</p>

<p>Had I known in advance that I was going to need these functions, the kiosk site itself (see <a href="/project/citizens-advice-kiosks/">here</a> for that project) would have looked very different. I would almost certainly have done the entire thing in Ruby on Rails, logged every click server side, had each of the kiosks as users on a single site rather than doing a separate site for each (that last one was not my decision, I hasten to add; I protested the unmaintainability of that model from the start, but was overruled because &ldquo;that&rsquo;s the way we&rsquo;ve always done it&rdquo;) and had the backend data viewable just as an admin panel on that site, saving everyone time, energy and server resources.</p>

<p>There is a chance that this pilot project will be expanded to several times its current size. If that happens, I will lobby hard to be allowed to kill the multiple front ends and expand the log companion site to include the front end pages, removing the need for the logscript part of this project entirely.</p>

                </div>
            </div>
        </div>
    </body>
    
</html>
